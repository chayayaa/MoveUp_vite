import{q as x,u as k,f as _,g as C,c as o,a as m,b as s,F as u,i as V,m as v,t as e,w as N,l as c,s as i,d as h,r as A,o as r,e as M}from"./index-CRSfcWBD.js";import{g as D,h as B}from"./api-wHJjAYCR.js";import{N as F}from"./NavComponent-DgH0bBaw.js";import{F as P}from"./FooterComponent-Bjy2HOxr.js";const z={class:"mt-5 pt-5 about"},E={class:"pt-5 px-5 container"},L=h('<div class="row"><div class="col-md-8 col-sm-5"><div class="step-bar"><ul class="step-bar_list"><li class="step-bar_item step-bar_item--first"><div class="step-bar_circle step-bar_circle--active"><span>1</span></div><div class="step-bar_line"></div><div class="step-bar_title"><span class="mx-2 text-light">購物車</span></div></li><li class="step-bar_item step-bar_item--secondary"><div class="step-bar_circle step-bar_circle--active"><span>2</span></div><div class="step-bar_line"></div><div class="step-bar_title"><span class="text-light">結帳</span></div></li><li class="step-bar_item step-bar_item--last"><div class="step-bar_circle step-bar_circle--active"><span>3</span></div><div class="step-bar_line"></div><div class="step-bar_title"><span class="text-light">購買完成</span></div></li></ul></div></div></div>',1),O={class:"row mt-3"},S={class:"col-md-8 col-sm-5"},T=s("h3",{class:"text-white font-weight-bold mb-0 mt-4 mt-md-0 mb-2"},"結帳完成",-1),$={class:"border-white"},q={class:"table align-middle"},H=s("thead",null,[s("tr",null,[s("th",null,"商品"),s("th",{style:{width:"110px"}},"數量"),s("th",null,"單價"),s("th",null,"合計")])],-1),R={style:{width:"5%"}},j={class:"rounded-0",style:{"background-size":"cover","background-position":"center"}},G=["src"],I={class:"d-flex flex-column align-items-stretch"},U={class:"fs-3 mb-4"},W={class:"fs-5"},J=s("tfoot",null,null,-1),K=s("td",{colspan:"3",class:"text-end"},"總計:",-1),Q={class:"col-md-4 text-white text-center"},X={class:"mt-5"},Y=h('<div><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-bag-check" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M10.854 8.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708 0"></path><path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"></path></svg><h3 class="mt-4"> 感謝您的購買!</h3><p class="text-start"> 我們將於 1~3 個工作天內與您聯繫，若有任何問題也可撥打客服與聯繫我們謝謝。 </p></div>',1),Z={class:"row"},ss={class:"col-md-8 col-sm-5 text-white"},ts={class:"checkout_summary text-start"},es=s("h3",{class:"font-weight-bold mb-0 mt-4 mt-md-0"},"訂購人資訊",-1),ls=s("hr",{class:"border-white hr-border-width"},null,-1),as={class:"font-weight-bold mb-0 mt-4 mt-md-0"},os=s("div",null,[s("label",{for:"email",class:"form-label"}," Email:"),s("label",{class:"form-label"})],-1),cs=s("label",{for:"name",class:"form-label"},"收件人姓名:",-1),is={class:"form-label"},rs=s("label",{for:"tel",class:"form-label"},"收件人電話:",-1),ds={class:"form-label"},ns=s("label",{for:"address",class:"form-label"},"收件人地址:",-1),_s={class:"form-label"},us=s("label",{class:"form-label"},"購買方式:",-1),ms={class:"form-label"},vs={class:"form-label"},hs={class:"form-label"},ps={class:"form-label"},bs={class:"form-label"},Cs={__name:"Complete",setup(fs,{emit:gs}){x();const p=k();_({loadingItem:""});const d=_(!1),b=_([]),t=_([]);C(async()=>{t.Id=p.path.split("/")[2],await f(),await g(t.Id)});async function f(){d.value=!0;try{const l=await D();b.value=l.data.data.carts,d.value=!1}catch(l){console.log(l)}}async function g(l){d.value=!0;try{const n=await B(l);t.value=n.data.order,d.value=!1}catch(n){console.log(n)}}return(l,n)=>{const w=A("router-link");return r(),o(u,null,[m(F),s("div",z,[s("div",E,[L,s("div",O,[s("div",S,[T,s("div",$,[s("table",q,[H,s("tbody",null,[t.value&&t.value.products?(r(),o(u,{key:0},[(r(!0),o(u,null,V(Object.keys(t.value.products),(a,y)=>(r(),o("tr",{key:y},[s("td",R,[s("div",j,[s("img",{src:t.value.products[a].product.imageUrl,class:"cart_img"},null,8,G)])]),s("td",null,[s("div",I,[s("div",U,e(t.value.products[a].product.title),1),s("div",W,e(t.value.products[a].qty)+"堂",1)])]),s("td",null," $"+e(t.value.products[a].product.price),1),s("td",null," $"+e(t.value.products[a].total),1)]))),128)),J],64)):v("",!0)]),s("tfoot",null,[s("tr",null,[K,s("td",null,"$"+e(t.value.total),1)])])])])]),s("div",Q,[s("div",X,[Y,m(w,{to:"/",class:"btn btn-primary",style:{margin:"0px"}},{default:N(()=>[M("回首頁")]),_:1})])])]),s("div",Z,[s("div",ss,[s("div",ts,[t.value&&t.value.user?(r(),o(u,{key:0},[es,ls,s("h4",as,"Email:"+e(t.value.user.email),1),os,s("div",null,[cs,s("label",is,e(t.value.user.name),1)]),s("div",null,[rs,s("label",ds,e(t.value.user.tel),1)]),s("div",null,[ns,s("label",_s,e(t.value.user.address),1)]),s("div",null,[us,c(s("label",ms,"WebATM",512),[[i,t.value.user.payment==="1"]]),c(s("label",vs,"ATM",512),[[i,t.value.user.payment==="2"]]),c(s("label",hs,"Credit",512),[[i,t.value.user.payment==="3"]]),c(s("label",ps,"ApplePay",512),[[i,t.value.user.payment==="4"]]),c(s("label",bs,"GooglePay",512),[[i,t.value.user.payment==="5"]])])],64)):v("",!0)])])])])]),m(P)],64)}}};export{Cs as default};
